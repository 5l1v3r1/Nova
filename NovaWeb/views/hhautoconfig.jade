extends layout

script
  function validateAndAdd(id)
  {
    var toValidate = document.getElementById(id).value;
    
    var regex = "^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})/[1-3]?[0-9]$"
    
    if(toValidate[toValidate.length - 2] == "3" && toValidate[toValidate.length - 1] > 2)
    {
      document.getElementById("problems").innerHtml = "Invalid subnet bit value (e.g. 33 or higher)";
      return;
    }
    
    if(regex.test(toValidate))
    {
      document.getElementById("problems").innerHtml = "Valid subnet found!";
      // add here
    }
    else
    {
      document.getElementById("problems").innerHtml = "That is not a valid subnet.";
      return;
    }
  }

  function watermark(id, text)
  {
    var element = document.getElementById(id);
    if(element.value.length > 0)
    {
      if(element.value == text)
      {
        element.value = '';
      }
    }
    else
    {
      element.value = text;
    }
  }

block content
  label Number of Haystack Nodes to create: 
  input(type="number", width="4", min="0", max="511")
  br
  label Additional Subnets to scan:
  input(type="text", id="subnetToAdd", width="20", value="Format: XXX.XXX.XXX.0/##")
  button(type="button", style="width:160px", onclick='validateAndAdd("subnetToAdd"), onblur="watermark('subnetToAdd', 'Format: XXX.XXX.XXX.0/##')", onfocus="watermark('subnetToAdd', 'Format: XXX.XXX.XXX.0/##')") Add Subnet
  br
  label(id="problems")
