
script
  function changeDisabled()
  {
    if(document.getElementById("default").checked)
    {
      for(var i = 0; i < document.getElementById("length").getAttribute("value"); i++)
      {
        document.getElementById("if" + i).disabled = true;
        document.getElementById("DEFAULT").innerHTML = true;
      }
    }
    else
    {
      for(var i = 0; i < document.getElementById("length").getAttribute("value"); i++)
      {
        document.getElementById("if" + i).disabled = false;
        document.getElementById("DEFAULT").innerHTML = false;
      }
    }
  }
  
  function checkAtLeastOne()
  {
    var numNotChecked = 0;
    
    for(var i = 0; i < document.getElementById("length").getAttribute("value"); i++)
    {
      if(!document.getElementById("if" + i).checked)
      {
        numNotChecked++;
      }
    }
    
    if(numNotChecked == document.getElementById("length").getAttribute("value"))
    {
      document.getElementById("if0").checked = true;
    }
  }

h2 Basic Configuration
table
  thead
    tr 
      th Interfaces
  - if (DEFAULT)
    tbody 
      - for (var i = 0; i < INTERFACES.length; i++)
        - if(INTERFACES[i] === "eth0")
            tr 
              td
                input(type="checkbox", value=INTERFACES[i], id="if#{i}", name="INTERFACE", width=10, disabled=true, onclick="checkAtLeastOne()", checked)
                #{INTERFACES[i]}
        - else
            tr 
              td
                input(type="checkbox", value=INTERFACES[i], id="if#{i}", name="INTERFACE", width=10, onclick="checkAtLeastOne()", disabled=true)
                #{INTERFACES[i]}
      tr
        td
          input(type="checkbox", value="default", id="default", width=10, onclick="changeDisabled()", checked)
          "default"
  - else
    tbody 
      - for (var i = 0; i < INTERFACES.length; i++)
        - if(INTERFACES[i] === "eth0")
            tr 
              td
                input(type="checkbox", value=INTERFACES[i], id="if#{i}", name="INTERFACE", width=10, onclick="checkAtLeastOne()", checked)
                #{INTERFACES[i]}
        - else
            tr 
              td
                input(type="checkbox", value=INTERFACES[i], id="if#{i}", name="INTERFACE", width=10, onclick="checkAtLeastOne()")
                #{INTERFACES[i]}
      tr
        td
          input(type="checkbox", value="default", id="default", onclick="changeDisabled()", width=10)
          "default"  
          
   hidden(id="length", value=INTERFACES.length)
   hidden(id="DEFAULT", value=DEFAULT)      
br

label Doppelganger Interface
input(name="DOPPELGANGER_INTERFACE",  value=DOPPELGANGER_INTERFACE)
br

label Doppelganger Enabled?
br
if DM_ENABLED != "0"
  |Yes
  input(type="radio", name="DM_ENABLED", value="1", checked)
  br
  |No
  input(type="radio", name="DM_ENABLED", value="0")
  br
else
  |Yes
  input(type="radio", name="DM_ENABLED", value="1")
  br
  |No
  input(type="radio", name="DM_ENABLED", value="0", checked)
  br
br

h2 Email Notifications
label SMTP Address
input(name="SMTP_ADDR",  value=SMTP_ADDR)
br

label SMTP Port
input(type="number", min="0", max="65536", name="SMTP_PORT",  value=SMTP_PORT)
br

label SMTP Domain
input(name="SMTP_DOMAIN",  value=SMTP_DOMAIN)
br

label Email Recipients
input(name="RECIPIENTS",  value=RECIPIENTS)
  br
br



